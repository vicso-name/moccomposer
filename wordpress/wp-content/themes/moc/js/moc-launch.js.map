{"version":3,"sources":["index.js","launch.js"],"names":["launchLoaded","launch","document","querySelector","sliderPause","startHeight","scrollBtn","jQuery","counterStarted","test","navigator","userAgent","window","innerWidth","fixMobileHeight","addEventListener","event","backgroundVideo","getElementById","backgroundVideoWrapper","setAttribute","css","length","find","addClass","parseInt","getAttribute","testimonialOwl","testimonialOwlSettings","margin","loop","nav","dots","items","autoplay","animateOut","animateIn","lazyLoad","lazyLoadEager","owlCarousel","on","pagerClass","currentSlider","activeSlide","attr","removeClass","activePagerOnTranslate","hasClass","trigger","endDragSlider","click","activeItem","index","pageSlider","this","evt","preventDefault","animate","scrollTop","offset","top","isQuantityChanged","alertMessages","push","Messages","asset_quantity_changed","navHomeY","isFixed","$w","shouldBeFixed","scroll","checkCountersAnimation","callCounter","targetCounter","order","elapsedTime","count","innerHTML","isNaN","className","k","time","step","timeout","setTimeout","countersListId","itemTimeout","infographicsTop","innerHeight","newArray","createCountersArray","i","activeCounter","numbersArray","each","observeScroll","requestAnimationFrame","screen","height","screenHeight","documentElement","clientHeight"],"mappings":"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","file":"moc-launch.js","sourcesContent":["\r\ndocument.addEventListener(\"DOMContentLoaded\", launchLoaded);\r\n\r\nfunction launchLoaded() {\r\n  launch();\r\n}\r\n","function launch () {\r\n  if (document.querySelector('.launch-page') === null) return\r\n  var startHeight = 1\r\n\r\n  var scrollBtn = jQuery('#scroll-arrow')\r\n\r\n  var counterStarted = false\r\n  var owlSettings = {\r\n    margin: 0,\r\n    loop: true,\r\n    nav: false,\r\n    dots: false,\r\n    items: 1,\r\n    autoplay: true,\r\n    animateOut: 'fadeOut',\r\n    animateIn: 'fadeIn',\r\n    lazyLoad: true,\r\n    lazyLoadEager: 1\r\n  }\r\n\r\n  if ((/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) || (window.innerWidth < 800)) {\r\n    fixMobileHeight()\r\n    window.addEventListener('resize', function (event) {\r\n      fixMobileHeight()\r\n    })\r\n\r\n    var backgroundVideo = document.getElementById('bgvideo')\r\n\r\n    var backgroundVideoWrapper = jQuery('.bg-video-wrapper')\r\n    // var srcUrl = document.getElementById('video-url').innerHTML;\r\n    if (backgroundVideo != null) {\r\n      backgroundVideo.setAttribute('src', '')\r\n      backgroundVideoWrapper.css('display', 'none')\r\n    };\r\n    counterStarted = true\r\n    if (jQuery('#infographics').length) jQuery('#infographics').find('.js-counter').addClass('js-counter finished')\r\n  };\r\n\r\n  var testimonialCarousel = jQuery('.testimonial-slider')\r\n\r\n  var sliderPause\r\n\r\n  if (testimonialCarousel.length) {\r\n    if ((jQuery('[data-pause]') != null) && (jQuery('[data-pause]').length)) {\r\n      sliderPause = '' + (1000 * parseInt(jQuery('[data-pause]')[0].getAttribute('data-pause')))\r\n    } else sliderPause = '' + 5000\r\n    var testimonialOwl = jQuery('#testimonial-slider')\r\n    var testimonialOwlSettings = owlSettings\r\n    testimonialOwlSettings['onInitialize'] = setActiveItem('testimonials-pager__item')\r\n    testimonialOwlSettings['autoplayTimeout'] = sliderPause\r\n    testimonialOwl.owlCarousel(testimonialOwlSettings)\r\n\r\n    testimonialOwl.on('translated.owl.carousel', function (event) {\r\n      activePagerOnTranslate('testimonials-pager__item', testimonialOwl)\r\n    })\r\n\r\n    testimonialOwl.on('dragged.owl.carousel', function (event) {\r\n      endDragSlider('testimonials-pager__item', testimonialOwl)\r\n    })\r\n\r\n    jQuery('.testimonials-pager__item').click(function () {\r\n      pageSlider('testimonials-pager__item', jQuery(this), testimonialOwl)\r\n    })\r\n  }\r\n\r\n  // pager - owl slider: pagination. start-stop\r\n  function pageSlider (pagerClass, activeItem, currentSlider) {\r\n    jQuery('.' + pagerClass).removeClass('active')\r\n    currentSlider.trigger('to.owl.carousel', [activeItem.index(), 300])\r\n    if (jQuery('.' + pagerClass).hasClass('stopped')) {\r\n      currentSlider.trigger('play.owl.autoplay', [5000])\r\n    };\r\n    activeItem.addClass('active stopped')\r\n    currentSlider.trigger('stop.owl.autoplay')\r\n  }\r\n  function dragSlider (direction, currentSlider) {\r\n    currentSlider.addClass(direction)\r\n  }\r\n  function endDragSlider (pagerClass, currentSlider) {\r\n    currentSlider.removeClass('left').removeClass('right')\r\n    jQuery('.' + pagerClass).removeClass('active')\r\n    var activeSlide = jQuery('.owl-item.active').find('.project-slide').attr('data-dote')\r\n    if (jQuery('.' + pagerClass).hasClass('stopped')) {\r\n      currentSlider.trigger('play.owl.autoplay', [5000])\r\n    };\r\n    jQuery('.' + pagerClass + '[data-dote=\"' + activeSlide + '\"]').addClass('active stopped')\r\n    currentSlider.trigger('stop.owl.autoplay')\r\n  }\r\n  function activePagerOnTranslate (pagerClass, currentSlider) {\r\n    var activeSlide = parseInt(currentSlider.find('.owl-item.active .item').attr('data-dote'))\r\n    jQuery('.' + pagerClass).removeClass('active').removeClass('done')\r\n    jQuery('.' + pagerClass + '[data-dote=\"' + activeSlide + '\"]').addClass('active')\r\n    // for (var i = 0; i < activeSlide; i++) {\r\n    //   jQuery('.' + pagerClass + '[data-dote=\"' + i + '\"]').addClass('done')\r\n    // };\r\n  }\r\n  function setActiveItem (pagerClass) {\r\n    jQuery('.' + pagerClass + '[data-dote=\"0\"]').addClass('active')\r\n  }\r\n\r\n  // get in touch and estimate button click\r\n\r\n  jQuery('[data-get-in-touch]').on('click', function (evt) {\r\n    evt.preventDefault()\r\n    // close mobile menu if opened\r\n    jQuery('[data-menu]').removeClass('menu-opened')\r\n    jQuery('body').removeClass('with-menu-opened')\r\n    jQuery('html, body').animate({\r\n      scrollTop: jQuery('#estimate-project-form').offset().top - 40\r\n    }, 800)\r\n  })\r\n\r\n  if (isQuantityChanged) {\r\n    this.alertMessages.push(Messages.asset_quantity_changed);\r\n  }\r\n\r\n  // Stick the #nav to the top of the window\r\n  var nav = jQuery('#top_bar')\r\n  var navHomeY = jQuery('.header-wrapper').offset().top\r\n  var isFixed = false\r\n  var $w = jQuery(window)\r\n  // scroll by click on arrow\r\n  scrollBtn.on('click', function (evt) {\r\n    evt.preventDefault()\r\n    jQuery('html, body').animate({\r\n      scrollTop: jQuery('#services-top').offset().top + 5\r\n    }, 800)\r\n  })\r\n  // fix menu when page loaded\r\n  var scrollTop = $w.scrollTop()\r\n  var shouldBeFixed = scrollTop > navHomeY\r\n  if (shouldBeFixed && !isFixed) {\r\n    isFixed = true\r\n    nav.addClass('top-fixed-header')\r\n  }\r\n  // counters animation if nesessary when page loaded\r\n  if ((jQuery('[data-counter]').length) || (counterStarted)) {\r\n    // console.log('data-counter length, counter started');\r\n    jQuery('#infographics').find('.js-counter').addClass('js-counter finished')\r\n    counterStarted = true\r\n  } else counterStarted = false\r\n\r\n  // checkCountersAnimation(scrollTop, 'infographics', 500);\r\n\r\n  // all event and functions for scroll\r\n\r\n  $w.scroll(function () {\r\n    scrollTop = $w.scrollTop()\r\n    shouldBeFixed = scrollTop > navHomeY\r\n\r\n    if (shouldBeFixed && !isFixed) {\r\n      isFixed = true\r\n      nav.addClass('top-fixed-header')\r\n    } else if (!shouldBeFixed && isFixed) {\r\n      isFixed = false\r\n      nav.removeClass('top-fixed-header')\r\n    }\r\n    if ((!counterStarted) && (jQuery('#infographics').length)) {\r\n      checkCountersAnimation(scrollTop, 'infographics', 500)\r\n    }\r\n  })\r\n\r\n  var callCounter = function (targetCounter, order, elapsedTime) {\r\n    var count = parseInt(targetCounter.innerHTML)\r\n    if (isNaN(count) || (count < 1)) {\r\n      targetCounter.className = 'js-counter finished'\r\n    } else {\r\n      var k = 0\r\n\r\n      // time = Math.trunc(elapsedTime/count),\r\n\r\n      var time = parseInt(elapsedTime / count)\r\n\r\n      var step = 1\r\n      if (time < 4) {\r\n        time = 4\r\n        // step = Math.round(count*4/elapsedTime);\r\n        step = parseInt(count * 4 / elapsedTime)\r\n      }\r\n      var timeout = function () {\r\n        targetCounter.className = 'js-counter counted'\r\n        setTimeout(function () {\r\n          k += step\r\n\r\n          if (k >= count) {\r\n            targetCounter.innerHTML = '' + count\r\n            targetCounter.className = 'js-counter finished'\r\n          } else {\r\n            targetCounter.innerHTML = '' + k\r\n            timeout()\r\n          }\r\n        }, time)\r\n      }\r\n      setTimeout(function () { timeout() }, order * elapsedTime)\r\n    }\r\n  }\r\n\r\n  var checkCountersAnimation = function (scrollTop, countersListId, itemTimeout) {\r\n    if (typeof jQuery('#' + countersListId) === 'undefined' || jQuery('#' + countersListId) === null) {\r\n      counterStarted = true\r\n      return\r\n    }\r\n    var infographicsTop = jQuery('#' + countersListId).offset().top\r\n    var viewPortHeight = window.innerHeight\r\n    if (((infographicsTop - viewPortHeight) < scrollTop) && (infographicsTop > scrollTop) && !counterStarted) {\r\n      var newArray = createCountersArray(countersListId)\r\n      counterStarted = true\r\n      for (var i = 0; i < newArray.length; i++) {\r\n        var activeCounter = document.getElementById(newArray[i])\r\n        jQuery('#' + newArray[i]).addClass('pre-count')\r\n        callCounter(activeCounter, i, itemTimeout)\r\n      }\r\n    }\r\n  }\r\n\r\n  var createCountersArray = function (countersListId) {\r\n    var numbersArray = []\r\n    jQuery('#' + countersListId).find('.js-counter').each(function () {\r\n      numbersArray.push(this.getAttribute('id'))\r\n    })\r\n    return numbersArray\r\n  }\r\n\r\n  function fixMobileHeight () {\r\n    var viewportHeight = screen.height\r\n    var screenHeight = document.documentElement.clientHeight\r\n    if ((screenHeight / startHeight <= 0.75) || (startHeight / screenHeight <= 0.75)) {\r\n      jQuery('.js-full-height').css('height', screenHeight)\r\n      startHeight = screenHeight\r\n    }\r\n  };\r\n\r\n  var observeScroll = function () {\r\n    window.requestAnimationFrame(observeScroll)\r\n    scrollTop = $w.scrollTop()\r\n    shouldBeFixed = scrollTop > navHomeY\r\n\r\n    if (shouldBeFixed && !isFixed) {\r\n      isFixed = true\r\n      nav.addClass('top-fixed-header')\r\n    } else if (!shouldBeFixed && isFixed) {\r\n      isFixed = false\r\n      nav.removeClass('top-fixed-header')\r\n    }\r\n    if ((!counterStarted) && (jQuery('#infographics').length)) {\r\n      checkCountersAnimation(scrollTop, 'infographics', 500)\r\n    };\r\n  }\r\n\r\n  observeScroll()\r\n};\r\n"]}