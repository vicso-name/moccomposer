{"version":3,"sources":["blog.js","functions.js","ajax-blog.js","index.js"],"names":["blog","jQuery","length","startWidth","document","documentElement","clientWidth","postsToLoad","isSidebarVisible","config","subscribeBlock","subscribeLink","downloadLink","subscribeCloseLink","downloadCloseLink","subscribeBtn","subscribeEmailField","find","nav","search","subscribeWindow","window","subscribeBody","searchBtn","loadMore","blogList","socialWrap","topSocialWrap","facebookSvg","twitterSvg","linkedinSvg","googleSvg","feedbackForm","feedbackBlock","feedbackControlsBlock","unFocusSubscribe","screenWidth","blur","addSearch","this","searchCloseBtn","searchIcon","preLoadPosts","postsCount","parseInt","location","hash","substring","ajaxPostsLoader","showOverlay","undefined","blogVars","_typeof","ajaxUrl","html","$","ajax","type","url","data","action","from_num","count","success","JSON","parse","loadMoreSuccess","e","preventDefault","preloadImages","images","addNewPosts","append","posts_end","hide","hideOverlay","successLoadFunction","i","img","imgLoaded","imgCount","Image","onload","onerror","src","addClass","removeClass","addSocialSvg","appendSvg","wrap","element","resizeTimer","w","isMobile","test","navigator","userAgent","deviceHeight","innerWidth","innerHeight","fullBodyHeight","pageYOffset","body","getBoundingClientRect","height","footerHeight","querySelector","offsetHeight","timeToHideSidebar","recalculatePositions","checkSidebarVisibility","offsetTop","addEventListener","event","clearTimeout","setTimeout","controlSidebarScroll","fixTargetBlank","indexOf","each","removeAttribute","highlightCode","block","hljs","highlightBlock","showFeedback","blockClass","getCookie","val","init","on","click","value","attr","elem","base_url","origin","postId","feedbackLike","feedbackContent","postTitle","feedbackInfo","feedbackIp","emailList","animate","scrollTop","offset","top","post_id","feedback_like","feedback_content","post_title","feedback_info","feedback_ip","email_list","done","fail","console","log","always","cookie","selection","getSelection","pagelink","href","copytext","newdiv","createElement","style","position","left","appendChild","innerHTML","selectAllChildren","removeChild","formInputs","querySelectorAll","m","input","unfocusIt","focusIt","label","getAttribute","classList","remove","add","afterSubmitForm","parent","concat","css","closest","pdfData","tagData","titleData","downloadBtn","index","audioPlayer","getTimeCodeFromNum","num","seconds","minutes","hours","String","padStart","audioPlayerLink","dataset","audio","Audio","textContent","duration","volume","timeline","timelineWidth","getComputedStyle","width","timeToSeek","offsetX","currentTime","volumeSlider","sliderWidth","newVolume","setInterval","playBtn","playBtnImg","paused","play","pause","volumeEl","muted","cname","name","ca","decodeURIComponent","split","c","charAt","searchPhrase","searchTerm","searchPostType","BASE","term","postType","result","fadeIn","text","slideDown","paramObj","host","currentPage","catId","loadEvents","target","$isLoadMore","hasClass","$this","parents","before","fadeOut","maxPage","catID","catIDArray","push","currentAction","stopPropagation","is","current","keypress","keyCode","which","delay","timer","callback","ms","blogLoaded","show","empty"],"mappings":"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","file":"moc-blog.js","sourcesContent":["function blog() {\r\n\r\n    if ((jQuery(\".blog-wrap\").length) || (jQuery(\".single-blogpost-wrap\").length) || (jQuery(\".kb-post\").length)||\r\n        (jQuery(\".search\").length)) {\r\n        var startWidth = document.documentElement.clientWidth,\r\n            postsToLoad = 6,\r\n            isSidebarVisible = false;\r\n        var blog = {\r\n            config: {\r\n                subscribeBlock: jQuery(\"#subscribe-block\"),\r\n                subscribeLink: jQuery('[data-open-menu=\"subscribe\"]'),\r\n                downloadLink: jQuery('[data-open-menu=\"download\"]'),\r\n                subscribeCloseLink: jQuery(\"#subscribe-close-btn\"),\r\n                downloadCloseLink: jQuery(\"#download-close-btn\"),\r\n                subscribeBtn: jQuery(\"#subscribe-btn\"),\r\n                subscribeEmailField: jQuery(\"#subscribe-block\").find('input[type=\"email\"]'),\r\n                // nav: jQuery(\"#top_bar\").find(\"ul.fixed-list\"),\r\n                nav: jQuery(\"#top_bar\").find(\"ul.get-in-touch-wrapper\"),\r\n                search: jQuery(\".search-overlay\"),\r\n                subscribeWindow: jQuery(window),\r\n                subscribeBody: jQuery('body'),\r\n                searchBtn: jQuery(\"#top_bar\").find('#search-nav'),\r\n                loadMore: jQuery('#load-more-posts'),\r\n                blogList: jQuery('#blog-list'),\r\n                socialWrap: jQuery('#post-social'),\r\n                topSocialWrap: jQuery('#top-post-social'),\r\n                facebookSvg: \"<svg aria-label='Share to Facebook'><use xlink:href='#social-facebook'></use></svg>\",\r\n                twitterSvg: \"<svg aria-label='Share to Twitter'><use xlink:href='#social-twitter'></use></svg>\",\r\n                linkedinSvg: \"<svg aria-label='Share to Linkedin'><use xlink:href='#social-linkedin'></use></svg>\",\r\n                googleSvg: \"<svg aria-label='Share to Google'><use xlink:href='#social-google'></use></svg>\",\r\n                feedbackForm: jQuery('#feedback_form'),\r\n                feedbackBlock: jQuery('#feedback_form').find('.feedback-block'),\r\n                feedbackControlsBlock: jQuery('#feedback-conrols-wrapper')\r\n            },\r\n            unFocusSubscribe: function () {\r\n                var screenWidth = document.documentElement.clientWidth;\r\n                if (screenWidth !== startWidth) {\r\n                    blog.config.subscribeEmailField.blur();\r\n                    startWidth = screenWidth;\r\n                }\r\n                // if (blog.config.subscribeBlock.hasClass('menu-opened')) {\r\n                //     // jQuery('[data-menu=\"main\"]').removeClass('menu-opened').addClass('menu-closed');\r\n                //     blog.config.subscribeBlock.removeClass('menu-closed');\r\n                //     blog.config.subscribeBody.addClass('with-menu-opened');\r\n                // }\r\n            },\r\n            addSearch: function () {\r\n                // this.config.nav.prepend(\"<li class='search'><a href='#' id='search-nav' data-open-menu='search'><svg aria-label='Search'><use xlink:href='#search-icon'></use></svg></a></li>\");\r\n                this.config.searchBtn = jQuery(\"#search-nav\");\r\n                this.config.searchCloseBtn = jQuery(\"#search-close-btn\");\r\n                this.config.searchIcon = jQuery(\"#search-icon\");\r\n            },\r\n            preLoadPosts: function () {\r\n                var postsCount = parseInt(window.location.hash.substring([1]));\r\n                if (postsCount > 7) {\r\n                    postsToLoad = postsCount - 7;\r\n                    blog.ajaxPostsLoader();\r\n                }\r\n            },\r\n            ajaxPostsLoader: function () {\r\n                blog.showOverlay();\r\n                if (typeof blogVars !== undefined) blogVars.ajaxUrl = jQuery('#blog-vars').html();\r\n                var postsCount = blog.config.blogList.find('li').length;\r\n                $.ajax({\r\n                    type: 'POST',\r\n                    url: blogVars.ajaxUrl,\r\n                    data: {\r\n                        'action': 'load_posts',\r\n                        'from_num': postsCount,\r\n                        'count': postsToLoad\r\n                    },\r\n                    success: function (data) {\r\n                        data = JSON.parse(data);\r\n                        blog.loadMoreSuccess(data);\r\n                    }\r\n                });\r\n            },\r\n            loadMore: function (e) {\r\n                e.preventDefault();\r\n                postsToLoad = 6;\r\n                blog.ajaxPostsLoader();\r\n            },\r\n            loadMoreSuccess: function (data) {\r\n                blog.preloadImages(data.images, 'addNewPosts', data);\r\n            },\r\n            addNewPosts: function (data) {\r\n                if (data) {\r\n                    blog.config.blogList.append(data.html);\r\n                }\r\n                if (!data || data.posts_end) {\r\n                    blog.config.loadMore.hide();\r\n                }\r\n                blog.hideOverlay();\r\n                window.location.hash = blog.config.blogList.find('li').length;\r\n            },\r\n            preloadImages: function (images, successLoadFunction, data) {\r\n                var i,\r\n                    img = [],\r\n                    imgLoaded = 0,\r\n                    imgCount = images.length;\r\n\r\n                for (i = 0; i < imgCount; i++) {\r\n                    img[i] = new Image();\r\n                    img[i].onload = function () {\r\n                        imgLoaded++;\r\n                        if (imgCount === imgLoaded) {\r\n                            blog.addNewPosts(data);\r\n                        }\r\n                    };\r\n                    img[i].onerror = function () {\r\n                        blog.hideOverlay();\r\n                        blog.config.loadMore.hide();\r\n                    };\r\n                    img[i].src = images[i];\r\n                }\r\n            },\r\n            showOverlay: function () {\r\n                jQuery('#load-more-posts').addClass('with-loader');\r\n            },\r\n            hideOverlay: function () {\r\n                jQuery('#load-more-posts').removeClass('with-loader');\r\n            },\r\n            addSocialSvg: function () {\r\n                if (blog.config.socialWrap.length) {\r\n                    appendSvg(blog.config.socialWrap);\r\n                }\r\n                if (blog.config.topSocialWrap.length) {\r\n                    appendSvg(blog.config.topSocialWrap);\r\n                }\r\n\r\n                function appendSvg(wrap) {\r\n                    wrap.find(\".ssba_facebook_share\").append(blog.config.facebookSvg);\r\n                    wrap.find(\".ssba_twitter_share\").append(blog.config.twitterSvg);\r\n                    wrap.find(\".ssba_linkedin_share\").append(blog.config.linkedinSvg);\r\n                    wrap.find(\".ssba_google_share\").append(blog.config.googleSvg);\r\n                };\r\n                controlSidebarScroll(blog.config.socialWrap);\r\n            },\r\n            fixTargetBlank: function () {\r\n                if ((navigator.userAgent.indexOf(\"FBAN\") > -1) || (navigator.userAgent.indexOf(\"FBAV\") > -1)) {\r\n                    jQuery('.blog-post-content').find('a').each(function () {\r\n                        this.removeAttribute('target');\r\n                    });\r\n                }\r\n            },\r\n            highlightCode: function () {\r\n                setTimeout(function () {\r\n                    jQuery('p code').each(function (i, block) {\r\n                        hljs.highlightBlock(block);\r\n                    });\r\n                }, 1000);\r\n\r\n            },\r\n            showFeedback: function () {\r\n                var postId = jQuery('#post_id').val(),\r\n                    blockClass;\r\n\r\n                if (getCookie('feedback' + postId)) {\r\n                    blockClass = 'feedback-responded';\r\n                    this.config.feedbackControlsBlock.html('');\r\n                } else {\r\n                    blockClass = 'feedback-visible';\r\n                }\r\n\r\n                this.config.feedbackBlock.addClass(blockClass);\r\n            },\r\n            init: function () {\r\n                this.addSearch();\r\n                this.config.subscribeWindow.on(\"resize\", this.unFocusSubscribe);\r\n                this.config.loadMore.on(\"click\", this.loadMore);\r\n                this.addSocialSvg();\r\n                this.preLoadPosts();\r\n                this.fixTargetBlank();\r\n                this.highlightCode();\r\n                this.showFeedback();\r\n            }\r\n        };\r\n        blog.init();\r\n\r\n        jQuery('#negative-submit').click(function () {\r\n            jQuery('form.blog_feedback').find('#feedback_type').val('No');\r\n        });\r\n\r\n        jQuery('#feedback-content').on('keyup', function () {\r\n            var elem = this;\r\n            if (elem.value == \"\") {\r\n                jQuery('.grey-btn').addClass('disabled').attr('disabled', true);\r\n            } else {\r\n                jQuery('.grey-btn').removeClass('disabled').attr('disabled', false);\r\n            }\r\n        });\r\n\r\n        jQuery('#feedback-content').on('blur', function () {\r\n            var elem = this;\r\n            if (elem.value == \"\") {\r\n                jQuery(elem).removeClass('filled');\r\n                jQuery('.grey-btn').addClass('disabled').attr('disabled', true);\r\n            } else {\r\n                jQuery(elem).addClass('filled');\r\n            }\r\n        });\r\n\r\n        jQuery(document).on('click', '[data-send=\"feedback\"]', function (event) {\r\n\r\n            event.preventDefault();\r\n            jQuery('.feedback-btn').addClass('disabled').attr('disabled', true);\r\n            jQuery('[data-send=\"feedback\"]').addClass('disabled').attr('disabled', true);\r\n            jQuery('body').removeClass('with-menu-opened');\r\n            var base_url = window.location.origin;\r\n            var feedbackForm = jQuery('form.blog_feedback'),\r\n                postId = feedbackForm.find('#post_id').val(),\r\n                feedbackLike = feedbackForm.find('#feedback_type').val(),\r\n                feedbackContent = feedbackForm.find('#feedback-content').val(),\r\n                postTitle = feedbackForm.find('.post-title').val(),\r\n                feedbackInfo = feedbackForm.find('.feedback_info').val(),\r\n                feedbackIp = feedbackForm.find('.feedback_ip').val(),\r\n                emailList = feedbackForm.find('.email-list').val();\r\n\r\n            if (feedbackContent.length > 600) feedbackContent = feedbackContent.substring(0, 599);\r\n            jQuery('.feedback-block').addClass('feedback-done');\r\n            jQuery('[data-popup=\"feedback\"]').removeClass('popup-fixed');\r\n            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))\r\n                jQuery('html, body').animate({\r\n                    scrollTop: jQuery(\"#feedback_form\").offset().top - 200\r\n                }, 800);\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: base_url + \"/wp-admin/admin-ajax.php\",\r\n                data: {\r\n                    'post_id': postId,\r\n                    'feedback_like': feedbackLike,\r\n                    'feedback_content': feedbackContent,\r\n                    'post_title': postTitle,\r\n                    'feedback_info': feedbackInfo,\r\n                    'feedback_ip': feedbackIp,\r\n                    'email_list': emailList,\r\n                    'action': 'save_feedback'\r\n                }\r\n            })\r\n                .done(function () {\r\n                    // jQuery('.feedback-block').addClass('feedback-done');\r\n                })\r\n                .fail(function () {\r\n                    console.log(\"something happened - feedback didn't sent:(\");\r\n                })\r\n                .always(function () {\r\n                    if ((document.cookie)) {\r\n                        var postId = jQuery('#post_id').val();\r\n                        if (typeof postId != 'undefined') {\r\n                            document.cookie = 'feedback' + postId + '=true';\r\n                        }\r\n                    }\r\n                });\r\n\r\n            return false;\r\n        });\r\n    }\r\n    ;\r\n\r\n\r\n    function controlSidebarScroll(element) {\r\n        var w = window;\r\n        var isMobile = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\n        var deviceWidth = w.innerWidth;\r\n        var deviceHeight = w.innerHeight;\r\n        var offsetTop = w.pageYOffset;\r\n        var fullBodyHeight = document.body.getBoundingClientRect().height;\r\n        var footerHeight = document.querySelector('.main-footer').offsetHeight;\r\n        var timeToHideSidebar = fullBodyHeight - footerHeight - deviceHeight;\r\n        var scrollTimer,\r\n            resizeTimer;\r\n\r\n        if (isMobile) return;\r\n\r\n        // checkSidebarVisibility(w.pageYOffset, deviceHeight, timeToHideSidebar, element);\r\n        w.addEventListener('scroll', function (event) {\r\n            // clearTimeout(scrollTimer);\r\n            // scrollTimer = setTimeout(\r\n            //     function() {\r\n            offsetTop = w.pageYOffset;\r\n            checkSidebarVisibility(offsetTop, deviceHeight, timeToHideSidebar, element);\r\n            // },\r\n            // 100);\r\n        });\r\n        w.addEventListener('resize', function () {\r\n            clearTimeout(resizeTimer);\r\n            resizeTimer = setTimeout(\r\n                function () {\r\n                    recalculatePositions();\r\n                    checkSidebarVisibility(w.pageYOffset, deviceHeight, timeToHideSidebar, element);\r\n                },\r\n                150);\r\n        });\r\n\r\n        function recalculatePositions() {\r\n            deviceWidth = w.innerWidth;\r\n            deviceHeight = w.innerHeight;\r\n            offsetTop = w.pageYOffset;\r\n            fullBodyHeight = document.body.offsetHeight;\r\n            footerHeight = document.querySelector('.main-footer').offsetHeight;\r\n            timeToHideSidebar = fullBodyHeight - footerHeight - deviceHeight;\r\n        };\r\n\r\n\r\n        function checkSidebarVisibility(offsetTop, deviceHeight, timeToHideSidebar, element) {\r\n            if ((offsetTop < deviceHeight) || (offsetTop > timeToHideSidebar)) {\r\n                if (isSidebarVisible) {\r\n                    element.addClass('invisible');\r\n                    isSidebarVisible = false;\r\n                }\r\n            } else {\r\n                if (!isSidebarVisible) {\r\n                    element.removeClass('invisible');\r\n                    recalculatePositions();\r\n                    isSidebarVisible = true;\r\n                }\r\n\r\n            }\r\n            ;\r\n        };\r\n    };\r\n\r\n    function addLink() {\r\n        //Get the selected text and append the extra info\r\n        const selection = window.getSelection();\r\n        const pagelink = document.location.href;\r\n        //const copytext = selection + pagelink;\r\n        const copytext = selection + \"<br>Read more at: <a href='\" + pagelink + \"'>\" + pagelink + \"</a>\";\r\n        //Create a new div to hold the prepared text\r\n        const newdiv = document.createElement('div');\r\n\r\n        //hide the newly created container\r\n        newdiv.style.position = 'absolute';\r\n        newdiv.style.left = '-99999px';\r\n\r\n        //insert the container, fill it with the extended text, and define the new selection\r\n        document.body.appendChild(newdiv);\r\n        newdiv.innerHTML = copytext;\r\n        selection.selectAllChildren(newdiv);\r\n\r\n        window.setTimeout(function () {\r\n            document.body.removeChild(newdiv);\r\n        }, 100);\r\n    }\r\n\r\n    document.addEventListener('copy', addLink);\r\n\r\n\r\n    if (jQuery('.contact-form-wrapper').length) {\r\n        const formInputs = document.querySelectorAll('.form-control')\r\n        try {\r\n            for (var m = 0; m < formInputs.length; m++) {\r\n                var input = formInputs[m]\r\n                unfocusIt(input)\r\n                input.addEventListener('focus', function () {\r\n                    focusIt(this)\r\n                })\r\n                input.addEventListener('blur', function () {\r\n                    unfocusIt(this)\r\n                })\r\n            }\r\n        } catch (e) {\r\n            console.log('not supported')\r\n            jQuery('.label').addClass('unfocus-label')\r\n        }\r\n    }\r\n\r\n    function focusIt(elem) {\r\n        var label = document.querySelector('label[for=\"' + elem.getAttribute('id') + '\"]')\r\n\r\n        if (label !== null) {\r\n            label.classList.remove('unfocus-label')\r\n        }\r\n        ;\r\n    }\r\n\r\n    function unfocusIt(elem) {\r\n        var label = document.querySelector('label[for=\"' + elem.getAttribute('id') + '\"]')\r\n        if (label !== null) {\r\n            if (elem.value === '') {\r\n                elem.classList.remove('filled')\r\n                label.classList.add('unfocus-label')\r\n            } else {\r\n                elem.classList.add('filled')\r\n                label.classList.remove('unfocus-label')\r\n            }\r\n        }\r\n    }\r\n\r\n    //Subscribe form\r\n    if (jQuery('.subscribe-block').length) {\r\n\r\n        function afterSubmitForm(parent){\r\n            jQuery(`${parent} .wpcf7`).on('wpcf7mailsent', function () {\r\n                $(this).find('input').css('display', 'none');\r\n                $(this).closest(`${parent}`).find('.subscribe-title').css('display', 'none');\r\n                $(this).closest(`${parent}`).find('.confirmation-text').css('display', 'none');\r\n                $(this).closest(`${parent}`).find('.subscribe-input-wrapper').css('display', 'none');\r\n                $(this).closest(`${parent}`).find('.wpcf7-response-output').css('display', 'none');\r\n                $(this).closest(`${parent}`).find('.response').css('display', 'block');\r\n                $(this).closest(`${parent}`).find('.show-on-success').css('display', 'block');\r\n                $(this).closest(`${parent}`).find('.icon--order-success').addClass('onshow');\r\n            });\r\n        }\r\n\r\n        afterSubmitForm('#subscribe-block');\r\n        afterSubmitForm('#download-block');\r\n    }\r\n\r\n    const downloadBtn = $('.blog-download-block .js-download-pdf');\r\n    let pdfData, tagData, titleData;\r\n    $( downloadBtn ).each(function(index) {\r\n        $(this).on(\"click\", function(){\r\n             pdfData= $(this).attr('data-pdf-link');\r\n             tagData= $(this).attr('data-tag');\r\n             titleData= $(this).attr('data-title');\r\n             console.log(pdfData);\r\n\r\n             $('#download-form').attr('pdf-link', pdfData)\r\n                 .attr('data-tag', tagData)\r\n                 .attr('data-title', titleData);\r\n        });\r\n    });\r\n\r\n    // Custom audio player for blog\r\n\r\n    const audioPlayer = document.querySelector(\".audio-player\");\r\n\r\n    if(audioPlayer) {\r\n        const audioPlayerLink = audioPlayer.dataset.audio;\r\n        const audio = new Audio(\r\n            audioPlayerLink\r\n        );\r\n//credit for song: Adrian kreativaweb@gmail.com\r\n        audio.addEventListener(\r\n            \"loadeddata\",\r\n            () => {\r\n                audioPlayer.querySelector(\".time .length\").textContent = getTimeCodeFromNum(\r\n                    audio.duration\r\n                );\r\n                audio.volume = 1;\r\n            },\r\n            false\r\n        );\r\n\r\n//click on timeline to skip around\r\n        const timeline = audioPlayer.querySelector(\".timeline\");\r\n        timeline.addEventListener(\"click\", e => {\r\n            const timelineWidth = window.getComputedStyle(timeline).width;\r\n            const timeToSeek = e.offsetX / parseInt(timelineWidth) * audio.duration;\r\n            audio.currentTime = timeToSeek;\r\n        }, false);\r\n\r\n//click volume slider to change volume\r\n        const volumeSlider = audioPlayer.querySelector(\".controls .volume-slider\");\r\n        volumeSlider.addEventListener('click', e => {\r\n            const sliderWidth = window.getComputedStyle(volumeSlider).width;\r\n            const newVolume = e.offsetX / parseInt(sliderWidth);\r\n            audio.volume = newVolume;\r\n            audioPlayer.querySelector(\".controls .volume-percentage\").style.width = newVolume * 100 + '%';\r\n        }, false)\r\n\r\n//check audio percentage and update time accordingly\r\n        setInterval(() => {\r\n            const progressBar = audioPlayer.querySelector(\".progress\");\r\n            progressBar.style.width = audio.currentTime / audio.duration * 100 + \"%\";\r\n            audioPlayer.querySelector(\".time .current\").textContent = getTimeCodeFromNum(\r\n                audio.currentTime\r\n            );\r\n        }, 500);\r\n\r\n//toggle between playing and pausing on button click\r\n        const playBtn = audioPlayer.querySelector(\".controls .toggle-play\");\r\n        const playBtnImg = audioPlayer.querySelector(\".controls .play-pause-img\");\r\n        playBtn.addEventListener(\r\n            \"click\",\r\n            () => {\r\n                if (audio.paused) {\r\n                    playBtn.classList.remove(\"play\");\r\n                    playBtn.classList.add(\"pause\");\r\n                    playBtnImg.src = \"/wp-content/themes/moc/images/blog/pause.png\"\r\n                    audio.play();\r\n                } else {\r\n                    playBtn.classList.remove(\"pause\");\r\n                    playBtn.classList.add(\"play\");\r\n                    playBtnImg.src = \"/wp-content/themes/moc/images/blog/play.png\";\r\n                    audio.pause();\r\n                }\r\n            },\r\n            false\r\n        );\r\n\r\n        audioPlayer.querySelector(\".volume-button\").addEventListener(\"click\", () => {\r\n            const volumeEl = audioPlayer.querySelector(\".volume-container .volume\");\r\n            audio.muted = !audio.muted;\r\n            if (audio.muted) {\r\n                volumeEl.classList.remove(\"icono-volumeMedium\");\r\n                volumeEl.classList.add(\"icono-volumeMute\");\r\n            } else {\r\n                volumeEl.classList.add(\"icono-volumeMedium\");\r\n                volumeEl.classList.remove(\"icono-volumeMute\");\r\n            }\r\n        });\r\n\r\n//turn 128 seconds into 2:08\r\n        function getTimeCodeFromNum(num) {\r\n            let seconds = parseInt(num);\r\n            let minutes = parseInt(seconds / 60);\r\n            seconds -= minutes * 60;\r\n            const hours = parseInt(minutes / 60);\r\n            minutes -= hours * 60;\r\n\r\n            if (hours === 0) return `${minutes}:${String(seconds % 60).padStart(2, 0)}`;\r\n            return `${String(hours).padStart(2, 0)}:${minutes}:${String(\r\n                seconds % 60\r\n            ).padStart(2, 0)}`;\r\n        }\r\n    }\r\n}\r\n\r\n//use preventDefault for keypress on Enter key\r\njQuery(function () {\r\n    jQuery('.search-field').keypress(function (event) {\r\n        var code = event.keyCode || event.which;\r\n        if (code == 13) {\r\n            event.preventDefault();\r\n            if ((/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))) {\r\n                jQuery(\"#search-field\").blur();\r\n            }\r\n        }\r\n    });\r\n\r\n});\r\n\r\nfunction getCookie(cname) {\r\n    var name = cname + \"=\";\r\n    var decodedCookie = decodeURIComponent(document.cookie);\r\n    var ca = decodedCookie.split(';');\r\n    for (var i = 0; i < ca.length; i++) {\r\n        var c = ca[i];\r\n        while (c.charAt(0) == ' ') {\r\n            c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) == 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n\r\n","/**\r\n * [--js/functions.js--]\r\n * Ajax search\r\n */\r\nfunction searchPhrase(searchTerm) {\r\n\r\n    const searchPostType = $('.search-field').data('post-search');\r\n\r\n    console.log(searchPostType);\r\n\r\n    if (searchTerm.length >= 2) {\r\n        jQuery.ajax({\r\n            url: BASE + '/wp-admin/admin-ajax.php',\r\n            type: \"POST\",\r\n            data: {\r\n                'action': 'ajax_search',\r\n                'term': searchTerm,\r\n                'postType': searchPostType\r\n            },\r\n            success: function (result) {\r\n                jQuery('.search-results').removeClass('hidden-state');\r\n                jQuery('.displayed-ajax-search').fadeIn().html(result);\r\n                jQuery('.count').fadeIn();\r\n                //jQuery('.displayed-search-phrases').addClass('hidden');\r\n                $('.popular-searches-block').removeClass('show').height(0);\r\n                jQuery('.search-spinner').hide();\r\n                jQuery('.search-field').blur();\r\n                //jQuery('.search-results-wrap').addClass('white-bg');\r\n\r\n                setTimeout(function () {\r\n                    const count = jQuery('.search-result-count').text();\r\n                    jQuery('.results-count-info').text(count).slideDown(400);\r\n                }, 100);\r\n\r\n            }\r\n        });\r\n    } else if (searchTerm.length <= 2) {\r\n        jQuery('.search-spinner').hide();\r\n        jQuery('.search-results').removeClass('hidden-state');\r\n        jQuery('.search-field').blur();\r\n        //jQuery('.search-results-wrap').addClass('white-bg');\r\n        jQuery('.displayed-ajax-search').append(\"<div class='search-characters-error'>\" +\r\n            \"<p class='search-characters-error__text'>Enter at least 2 characters to start searching</p>\" +\r\n            \"<div class='search-characters-error__image-wrap'>\" +\r\n            \"<img src='\" + document.location.origin + \"/wp-content/themes/moc/images/blog/typewriter.svg' alt='' class='search-characters-error__image'>\" +\r\n            \"</div>\" +\r\n            \"</div>\");\r\n    }\r\n}\r\n\r\nvar delay = (function () {\r\n    var timer = 0;\r\n    return function (callback, ms) {\r\n        clearTimeout(timer);\r\n        timer = setTimeout(callback, ms);\r\n    };\r\n})();\r\n\r\n$('.search-spinner').hide();\r\n\r\n$('#search-field').on('input keyup', function () {\r\n    console.log('test search');\r\n    jQuery('.search-spinner').show();\r\n    //jQuery('.displayed-search-phrases').addClass('hidden');\r\n    $('.popular-searches-block').removeClass('show').height(0);\r\n    jQuery('.displayed-ajax-search').empty();\r\n\r\n    //prevent browser autocomplete\r\n    jQuery(this).attr('autocomplete', 'off');\r\n    //get search term\r\n    var searchTerm = jQuery(this).val();\r\n\r\n    delay(function () {\r\n        searchPhrase(searchTerm);\r\n    }, 2000);\r\n});\r\n","(function () {\r\n    /*\r\n       ajax params\r\n   */\r\n    let myajax = `//${window.location.host}/wp-admin/admin-ajax.php`,\r\n        paramObj = {\r\n            action: 'load_blog_post',\r\n            postType: 'post',\r\n            url: myajax,\r\n            currentPage: 1,\r\n            catId: 'all'\r\n        };\r\n\r\n    /*\r\n       Ajax helper function\r\n   */\r\n    function loadEvents(paramObj, target) {\r\n        let $isLoadMore = $(target).hasClass('js-load-more'),\r\n            $this = $(target);\r\n        $.ajax({\r\n            url: paramObj.url,\r\n            data: paramObj,\r\n            type: 'POST',\r\n\r\n            success(data) {\r\n                if ($isLoadMore) {\r\n                    $this.parents('.load-more-btn-wrap').before(data);\r\n                    $('.post-item').fadeOut(0).fadeIn(400);\r\n                    $this.parents('.load-more-btn-wrap').remove();\r\n                    let maxPage = parseInt($this.data('max-page'));\r\n                    if (paramObj.currentPage === maxPage) {\r\n                        $('.load-more-btn-wrap').remove();\r\n                    }\r\n                } else {\r\n\r\n                    if (paramObj.catId === 'all') {\r\n                        $('.blog-posts__list').html(data).addClass('first-load');\r\n                        $('.post-item').fadeOut(0).fadeIn(400);\r\n                    } else {\r\n                        $('.blog-posts__list').html(data).removeClass('first-load');\r\n                        $('.post-item').fadeOut(0).fadeIn(400);\r\n                    }\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /*\r\n        Load post\r\n    */\r\n    $('body').on(\"dblclick\", \".js-load-post, .category-active\", function (e) {\r\n        e.preventDefault();\r\n    });\r\n\r\n    $('body').on('click', '.js-load-post', function H() {\r\n        if (!$(this).hasClass('category-active')) {\r\n            let $this = $(this),\r\n                catID = $this.data('cat-id'),\r\n                catIDArray = [],\r\n                currentAction = 'filter';\r\n\r\n            $(this).each(function H() {\r\n                if (!$this.hasClass('category-active')) {\r\n                    $this.addClass('category-active');\r\n                }\r\n            });\r\n\r\n            $(\".category-active\").each(function H() {\r\n                let $this = $(this),\r\n                    catID = $this.data('cat-id');\r\n                catIDArray.push(catID);\r\n            });\r\n\r\n            catID = catIDArray;\r\n\r\n            if (catID.length === 0) {\r\n                catID = 'all';\r\n            } else {\r\n                catID = catIDArray;\r\n            }\r\n\r\n            paramObj.currentPage = 1;\r\n            paramObj.catId = catID ? catID : 'all';\r\n            paramObj.currentAction = currentAction;\r\n            loadEvents(paramObj, $this);\r\n        }\r\n    });\r\n\r\n    $('body').on('click', '.js-remove-active-state', function H(e) {\r\n        e.stopPropagation();\r\n        let $this = $(this),\r\n            catID = $this.parents().data('cat-id'),\r\n            catIDArray = [],\r\n            currentAction = 'filter';\r\n\r\n        $(this).each(function H() {\r\n            if ($this.parents().hasClass('category-active')) {\r\n                $this.parents().removeClass('category-active');\r\n            }\r\n        });\r\n\r\n        $(\".category-active\").each(function H() {\r\n            let $this = $(this),\r\n                catID = $this.data('cat-id');\r\n            catIDArray.push(catID);\r\n        });\r\n\r\n        catID = catIDArray;\r\n\r\n        if (catID.length === 0) {\r\n            catID = 'all';\r\n        } else {\r\n            catID = catIDArray;\r\n        }\r\n\r\n        paramObj.currentPage = 1;\r\n        paramObj.catId = catID ? catID : 'all';\r\n        paramObj.currentAction = currentAction;\r\n        loadEvents(paramObj, $this);\r\n    });\r\n\r\n    $(document).click(function (event) {\r\n        if ($(event.target).is(\".js-remove-active-state .close-btn\")) {\r\n            // console.log($(event.target));\r\n        }\r\n    });\r\n\r\n\r\n    // //select\r\n    // $('.recipes__category-select').on('change', function H() {\r\n    //     let $this = $(this),\r\n    //         catID = $this.val();\r\n    //\r\n    //     paramObj.currentPage = 1;\r\n    //     paramObj.catId = catID ? catID : 'all';\r\n    //     loadEvents(paramObj, $this);\r\n    // });\r\n\r\n    /*\r\n        Load more btn\r\n    */\r\n    $('.ajax-container').on('click', '.js-load-more', function H() {\r\n        let $this = $(this),\r\n            postType = 'post',\r\n            catId = $this.data('cat-id'),\r\n            current = parseInt($this.data('current-page')),\r\n            currentAction = 'load';\r\n        paramObj.postType = postType;\r\n        if (catId) {\r\n            paramObj.catId = catId;\r\n        }\r\n        current = current + 1;\r\n        paramObj.currentPage = current;\r\n        paramObj.currentAction = currentAction;\r\n        loadEvents(paramObj, $this);\r\n    });\r\n})();\r\n","\r\ndocument.addEventListener(\"DOMContentLoaded\", blogLoaded);\r\n\r\nfunction blogLoaded() {\r\n  blog();\r\n}\r\n"]}